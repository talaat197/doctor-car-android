{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"lodash","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _ = _$$_REQUIRE(_dependencyMap[2], \"lodash\");\n\n  var ComponentEventsObserver = function () {\n    function ComponentEventsObserver(nativeEventsReceiver) {\n      _classCallCheck(this, ComponentEventsObserver);\n\n      this.nativeEventsReceiver = nativeEventsReceiver;\n      this.listeners = {};\n      this.alreadyRegistered = false;\n      this.notifyComponentDidAppear = this.notifyComponentDidAppear.bind(this);\n      this.notifyComponentDidDisappear = this.notifyComponentDidDisappear.bind(this);\n      this.notifyNavigationButtonPressed = this.notifyNavigationButtonPressed.bind(this);\n      this.notifyModalDismissed = this.notifyModalDismissed.bind(this);\n      this.notifySearchBarUpdated = this.notifySearchBarUpdated.bind(this);\n      this.notifySearchBarCancelPressed = this.notifySearchBarCancelPressed.bind(this);\n      this.notifyPreviewCompleted = this.notifyPreviewCompleted.bind(this);\n    }\n\n    _createClass(ComponentEventsObserver, [{\n      key: \"registerOnceForAllComponentEvents\",\n      value: function registerOnceForAllComponentEvents() {\n        if (this.alreadyRegistered) {\n          return;\n        }\n\n        this.alreadyRegistered = true;\n        this.nativeEventsReceiver.registerComponentDidAppearListener(this.notifyComponentDidAppear);\n        this.nativeEventsReceiver.registerComponentDidDisappearListener(this.notifyComponentDidDisappear);\n        this.nativeEventsReceiver.registerNavigationButtonPressedListener(this.notifyNavigationButtonPressed);\n        this.nativeEventsReceiver.registerModalDismissedListener(this.notifyModalDismissed);\n        this.nativeEventsReceiver.registerSearchBarUpdatedListener(this.notifySearchBarUpdated);\n        this.nativeEventsReceiver.registerSearchBarCancelPressedListener(this.notifySearchBarCancelPressed);\n        this.nativeEventsReceiver.registerPreviewCompletedListener(this.notifyPreviewCompleted);\n      }\n    }, {\n      key: \"bindComponent\",\n      value: function bindComponent(component, componentId) {\n        var _this = this;\n\n        var computedComponentId = componentId || component.props.componentId;\n\n        if (!_.isString(computedComponentId)) {\n          throw new Error(\"bindComponent expects a component with a componentId in props or a componentId as the second argument\");\n        }\n\n        if (_.isNil(this.listeners[computedComponentId])) {\n          this.listeners[computedComponentId] = {};\n        }\n\n        var key = _.uniqueId();\n\n        this.listeners[computedComponentId][key] = component;\n        return {\n          remove: function remove() {\n            return _.unset(_this.listeners[computedComponentId], key);\n          }\n        };\n      }\n    }, {\n      key: \"unmounted\",\n      value: function unmounted(componentId) {\n        _.unset(this.listeners, componentId);\n      }\n    }, {\n      key: \"notifyComponentDidAppear\",\n      value: function notifyComponentDidAppear(event) {\n        this.triggerOnAllListenersByComponentId(event, 'componentDidAppear');\n      }\n    }, {\n      key: \"notifyComponentDidDisappear\",\n      value: function notifyComponentDidDisappear(event) {\n        this.triggerOnAllListenersByComponentId(event, 'componentDidDisappear');\n      }\n    }, {\n      key: \"notifyNavigationButtonPressed\",\n      value: function notifyNavigationButtonPressed(event) {\n        this.triggerOnAllListenersByComponentId(event, 'navigationButtonPressed');\n      }\n    }, {\n      key: \"notifyModalDismissed\",\n      value: function notifyModalDismissed(event) {\n        this.triggerOnAllListenersByComponentId(event, 'modalDismissed');\n      }\n    }, {\n      key: \"notifySearchBarUpdated\",\n      value: function notifySearchBarUpdated(event) {\n        this.triggerOnAllListenersByComponentId(event, 'searchBarUpdated');\n      }\n    }, {\n      key: \"notifySearchBarCancelPressed\",\n      value: function notifySearchBarCancelPressed(event) {\n        this.triggerOnAllListenersByComponentId(event, 'searchBarCancelPressed');\n      }\n    }, {\n      key: \"notifyPreviewCompleted\",\n      value: function notifyPreviewCompleted(event) {\n        this.triggerOnAllListenersByComponentId(event, 'previewCompleted');\n      }\n    }, {\n      key: \"triggerOnAllListenersByComponentId\",\n      value: function triggerOnAllListenersByComponentId(event, method) {\n        _.forEach(this.listeners[event.componentId], function (component) {\n          if (component[method]) {\n            component[method](event);\n          }\n        });\n      }\n    }]);\n\n    return ComponentEventsObserver;\n  }();\n\n  exports.ComponentEventsObserver = ComponentEventsObserver;\n});","map":[[2,0,1,0],[8,0,2,0,"Object"],[8,2,2,0,"Object"],[8,8,2,6],[8,9,2,7,"defineProperty"],[8,23,2,0],[8,24,2,22,"exports"],[8,31,2,0],[8,33,2,31],[8,45,2,0],[8,47,2,45],[9,0,2,47,"value"],[9,4,2,47,"value"],[9,9,2,52],[9,11,2,54],[10,0,2,45],[10,3,2,0],[12,0,3,0],[12,6,3,6,"_"],[12,7,3,7],[12,10,3,10,"require"],[12,21,3,17],[12,50,3,0],[14,6,4,6,"ComponentEventsObserver"],[14,29],[15,0,5,4],[15,37,5,16,"nativeEventsReceiver"],[15,57,5,4],[15,59,5,38],[16,0,5,38],[18,0,6,8],[18,11,6,13,"nativeEventsReceiver"],[18,31,6,8],[18,34,6,36,"nativeEventsReceiver"],[18,54,6,8],[19,0,7,8],[19,11,7,13,"listeners"],[19,20,7,8],[19,23,7,25],[19,25,7,8],[20,0,8,8],[20,11,8,13,"alreadyRegistered"],[20,28,8,8],[20,31,8,33],[20,36,8,8],[21,0,9,8],[21,11,9,13,"notifyComponentDidAppear"],[21,35,9,8],[21,38,9,40],[21,43,9,45,"notifyComponentDidAppear"],[21,67,9,40],[21,68,9,70,"bind"],[21,72,9,40],[21,73,9,75],[21,77,9,40],[21,78,9,8],[22,0,10,8],[22,11,10,13,"notifyComponentDidDisappear"],[22,38,10,8],[22,41,10,43],[22,46,10,48,"notifyComponentDidDisappear"],[22,73,10,43],[22,74,10,76,"bind"],[22,78,10,43],[22,79,10,81],[22,83,10,43],[22,84,10,8],[23,0,11,8],[23,11,11,13,"notifyNavigationButtonPressed"],[23,40,11,8],[23,43,11,45],[23,48,11,50,"notifyNavigationButtonPressed"],[23,77,11,45],[23,78,11,80,"bind"],[23,82,11,45],[23,83,11,85],[23,87,11,45],[23,88,11,8],[24,0,12,8],[24,11,12,13,"notifyModalDismissed"],[24,31,12,8],[24,34,12,36],[24,39,12,41,"notifyModalDismissed"],[24,59,12,36],[24,60,12,62,"bind"],[24,64,12,36],[24,65,12,67],[24,69,12,36],[24,70,12,8],[25,0,13,8],[25,11,13,13,"notifySearchBarUpdated"],[25,33,13,8],[25,36,13,38],[25,41,13,43,"notifySearchBarUpdated"],[25,63,13,38],[25,64,13,66,"bind"],[25,68,13,38],[25,69,13,71],[25,73,13,38],[25,74,13,8],[26,0,14,8],[26,11,14,13,"notifySearchBarCancelPressed"],[26,39,14,8],[26,42,14,44],[26,47,14,49,"notifySearchBarCancelPressed"],[26,75,14,44],[26,76,14,78,"bind"],[26,80,14,44],[26,81,14,83],[26,85,14,44],[26,86,14,8],[27,0,15,8],[27,11,15,13,"notifyPreviewCompleted"],[27,33,15,8],[27,36,15,38],[27,41,15,43,"notifyPreviewCompleted"],[27,63,15,38],[27,64,15,66,"bind"],[27,68,15,38],[27,69,15,71],[27,73,15,38],[27,74,15,8],[28,0,16,5],[32,58,17,40],[33,0,18,8],[33,12,18,12],[33,17,18,17,"alreadyRegistered"],[33,34,18,8],[33,36,18,36],[34,0,19,12],[35,0,20,9],[37,0,21,8],[37,13,21,13,"alreadyRegistered"],[37,30,21,8],[37,33,21,33],[37,37,21,8],[38,0,22,8],[38,13,22,13,"nativeEventsReceiver"],[38,33,22,8],[38,34,22,34,"registerComponentDidAppearListener"],[38,68,22,8],[38,69,22,69],[38,74,22,74,"notifyComponentDidAppear"],[38,98,22,8],[39,0,23,8],[39,13,23,13,"nativeEventsReceiver"],[39,33,23,8],[39,34,23,34,"registerComponentDidDisappearListener"],[39,71,23,8],[39,72,23,72],[39,77,23,77,"notifyComponentDidDisappear"],[39,104,23,8],[40,0,24,8],[40,13,24,13,"nativeEventsReceiver"],[40,33,24,8],[40,34,24,34,"registerNavigationButtonPressedListener"],[40,73,24,8],[40,74,24,74],[40,79,24,79,"notifyNavigationButtonPressed"],[40,108,24,8],[41,0,25,8],[41,13,25,13,"nativeEventsReceiver"],[41,33,25,8],[41,34,25,34,"registerModalDismissedListener"],[41,64,25,8],[41,65,25,65],[41,70,25,70,"notifyModalDismissed"],[41,90,25,8],[42,0,26,8],[42,13,26,13,"nativeEventsReceiver"],[42,33,26,8],[42,34,26,34,"registerSearchBarUpdatedListener"],[42,66,26,8],[42,67,26,67],[42,72,26,72,"notifySearchBarUpdated"],[42,94,26,8],[43,0,27,8],[43,13,27,13,"nativeEventsReceiver"],[43,33,27,8],[43,34,27,34,"registerSearchBarCancelPressedListener"],[43,72,27,8],[43,73,27,73],[43,78,27,78,"notifySearchBarCancelPressed"],[43,106,27,8],[44,0,28,8],[44,13,28,13,"nativeEventsReceiver"],[44,33,28,8],[44,34,28,34,"registerPreviewCompletedListener"],[44,66,28,8],[44,67,28,67],[44,72,28,72,"notifyPreviewCompleted"],[44,94,28,8],[45,0,29,5],[48,36,30,18,"component"],[48,45],[48,47,30,29,"componentId"],[48,58],[48,60,30,42],[49,0,30,42],[51,0,31,8],[51,12,31,14,"computedComponentId"],[51,31,31,33],[51,34,31,36,"componentId"],[51,45,31,47],[51,49,31,51,"component"],[51,58,31,60],[51,59,31,61,"props"],[51,64,31,51],[51,65,31,67,"componentId"],[51,76,31,8],[53,0,32,8],[53,12,32,12],[53,13,32,13,"_"],[53,14,32,14],[53,15,32,15,"isString"],[53,23,32,13],[53,24,32,24,"computedComponentId"],[53,43,32,13],[53,44,32,8],[53,46,32,46],[54,0,33,12],[54,16,33,18],[54,20,33,22,"Error"],[54,25,33,18],[54,130,33,12],[55,0,34,9],[57,0,35,8],[57,12,35,12,"_"],[57,13,35,13],[57,14,35,14,"isNil"],[57,19,35,12],[57,20,35,20],[57,25,35,25,"listeners"],[57,34,35,20],[57,35,35,35,"computedComponentId"],[57,54,35,20],[57,55,35,12],[57,56,35,8],[57,58,35,58],[58,0,36,12],[58,15,36,17,"listeners"],[58,24,36,12],[58,25,36,27,"computedComponentId"],[58,44,36,12],[58,48,36,50],[58,50,36,12],[59,0,37,9],[61,0,38,8],[61,12,38,14,"key"],[61,15,38,17],[61,18,38,20,"_"],[61,19,38,21],[61,20,38,22,"uniqueId"],[61,28,38,20],[61,30,38,8],[63,0,39,8],[63,13,39,13,"listeners"],[63,22,39,8],[63,23,39,23,"computedComponentId"],[63,42,39,8],[63,44,39,44,"key"],[63,47,39,8],[63,51,39,51,"component"],[63,60,39,8],[64,0,40,8],[64,15,40,15],[65,0,40,17,"remove"],[65,10,40,17,"remove"],[65,16,40,23],[65,18,40,25],[66,0,40,25],[66,19,40,31,"_"],[66,20,40,32],[66,21,40,33,"unset"],[66,26,40,31],[66,27,40,39],[66,32,40,43],[66,33,40,44,"listeners"],[66,42,40,39],[66,43,40,54,"computedComponentId"],[66,62,40,39],[66,63,40,31],[66,65,40,76,"key"],[66,68,40,31],[66,69,40,25],[67,0,40,25],[68,0,40,15],[68,9,40,8],[69,0,41,5],[72,32,42,14,"componentId"],[72,43],[72,45,42,27],[73,0,43,8,"_"],[73,8,43,8,"_"],[73,9,43,9],[73,10,43,10,"unset"],[73,15,43,8],[73,16,43,16],[73,21,43,21,"listeners"],[73,30,43,8],[73,32,43,32,"componentId"],[73,43,43,8],[74,0,44,5],[77,47,45,29,"event"],[77,52],[77,54,45,36],[78,0,46,8],[78,13,46,13,"triggerOnAllListenersByComponentId"],[78,47,46,8],[78,48,46,48,"event"],[78,53,46,8],[78,55,46,55],[78,75,46,8],[79,0,47,5],[82,50,48,32,"event"],[82,55],[82,57,48,39],[83,0,49,8],[83,13,49,13,"triggerOnAllListenersByComponentId"],[83,47,49,8],[83,48,49,48,"event"],[83,53,49,8],[83,55,49,55],[83,78,49,8],[84,0,50,5],[87,52,51,34,"event"],[87,57],[87,59,51,41],[88,0,52,8],[88,13,52,13,"triggerOnAllListenersByComponentId"],[88,47,52,8],[88,48,52,48,"event"],[88,53,52,8],[88,55,52,55],[88,80,52,8],[89,0,53,5],[92,43,54,25,"event"],[92,48],[92,50,54,32],[93,0,55,8],[93,13,55,13,"triggerOnAllListenersByComponentId"],[93,47,55,8],[93,48,55,48,"event"],[93,53,55,8],[93,55,55,55],[93,71,55,8],[94,0,56,5],[97,45,57,27,"event"],[97,50],[97,52,57,34],[98,0,58,8],[98,13,58,13,"triggerOnAllListenersByComponentId"],[98,47,58,8],[98,48,58,48,"event"],[98,53,58,8],[98,55,58,55],[98,73,58,8],[99,0,59,5],[102,51,60,33,"event"],[102,56],[102,58,60,40],[103,0,61,8],[103,13,61,13,"triggerOnAllListenersByComponentId"],[103,47,61,8],[103,48,61,48,"event"],[103,53,61,8],[103,55,61,55],[103,79,61,8],[104,0,62,5],[107,45,63,27,"event"],[107,50],[107,52,63,34],[108,0,64,8],[108,13,64,13,"triggerOnAllListenersByComponentId"],[108,47,64,8],[108,48,64,48,"event"],[108,53,64,8],[108,55,64,55],[108,73,64,8],[109,0,65,5],[112,57,66,39,"event"],[112,62],[112,64,66,46,"method"],[112,70],[112,72,66,54],[113,0,67,8,"_"],[113,8,67,8,"_"],[113,9,67,9],[113,10,67,10,"forEach"],[113,17,67,8],[113,18,67,18],[113,23,67,23,"listeners"],[113,32,67,18],[113,33,67,33,"event"],[113,38,67,38],[113,39,67,39,"componentId"],[113,50,67,18],[113,51,67,8],[113,53,67,53],[113,63,67,54,"component"],[113,72,67,53],[113,74,67,68],[114,0,68,12],[114,14,68,16,"component"],[114,23,68,25],[114,24,68,26,"method"],[114,30,68,25],[114,31,68,12],[114,33,68,35],[115,0,69,16,"component"],[115,12,69,16,"component"],[115,21,69,25],[115,22,69,26,"method"],[115,28,69,25],[115,29,69,16],[115,30,69,34,"event"],[115,35,69,16],[116,0,70,13],[117,0,71,9],[117,9,67,8],[118,0,72,5],[124,0,74,0,"exports"],[124,2,74,0,"exports"],[124,9,74,7],[124,10,74,8,"ComponentEventsObserver"],[124,33,74,0],[124,36,74,34,"ComponentEventsObserver"],[124,59,74,0]]},"type":"js/module"}]}