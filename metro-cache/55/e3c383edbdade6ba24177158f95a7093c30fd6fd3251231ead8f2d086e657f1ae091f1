{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"lodash","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _ = _$$_REQUIRE(_dependencyMap[2], \"lodash\");\n\n  var ComponentEventsObserver = function () {\n    function ComponentEventsObserver(nativeEventsReceiver, store) {\n      _classCallCheck(this, ComponentEventsObserver);\n\n      this.nativeEventsReceiver = nativeEventsReceiver;\n      this.store = store;\n      this.listeners = {};\n      this.alreadyRegistered = false;\n      this.notifyComponentDidAppear = this.notifyComponentDidAppear.bind(this);\n      this.notifyComponentDidDisappear = this.notifyComponentDidDisappear.bind(this);\n      this.notifyNavigationButtonPressed = this.notifyNavigationButtonPressed.bind(this);\n      this.notifyModalDismissed = this.notifyModalDismissed.bind(this);\n      this.notifySearchBarUpdated = this.notifySearchBarUpdated.bind(this);\n      this.notifySearchBarCancelPressed = this.notifySearchBarCancelPressed.bind(this);\n      this.notifyPreviewCompleted = this.notifyPreviewCompleted.bind(this);\n    }\n\n    _createClass(ComponentEventsObserver, [{\n      key: \"registerOnceForAllComponentEvents\",\n      value: function registerOnceForAllComponentEvents() {\n        if (this.alreadyRegistered) {\n          return;\n        }\n\n        this.alreadyRegistered = true;\n        this.nativeEventsReceiver.registerComponentDidAppearListener(this.notifyComponentDidAppear);\n        this.nativeEventsReceiver.registerComponentDidDisappearListener(this.notifyComponentDidDisappear);\n        this.nativeEventsReceiver.registerNavigationButtonPressedListener(this.notifyNavigationButtonPressed);\n        this.nativeEventsReceiver.registerModalDismissedListener(this.notifyModalDismissed);\n        this.nativeEventsReceiver.registerSearchBarUpdatedListener(this.notifySearchBarUpdated);\n        this.nativeEventsReceiver.registerSearchBarCancelPressedListener(this.notifySearchBarCancelPressed);\n        this.nativeEventsReceiver.registerPreviewCompletedListener(this.notifyPreviewCompleted);\n      }\n    }, {\n      key: \"bindComponent\",\n      value: function bindComponent(component, componentId) {\n        var _this = this;\n\n        var computedComponentId = componentId || component.props.componentId;\n\n        if (!_.isString(computedComponentId)) {\n          throw new Error(\"bindComponent expects a component with a componentId in props or a componentId as the second argument\");\n        }\n\n        if (_.isNil(this.listeners[computedComponentId])) {\n          this.listeners[computedComponentId] = {};\n        }\n\n        var key = _.uniqueId();\n\n        this.listeners[computedComponentId][key] = component;\n        return {\n          remove: function remove() {\n            return _.unset(_this.listeners[computedComponentId], key);\n          }\n        };\n      }\n    }, {\n      key: \"unmounted\",\n      value: function unmounted(componentId) {\n        _.unset(this.listeners, componentId);\n      }\n    }, {\n      key: \"notifyComponentDidAppear\",\n      value: function notifyComponentDidAppear(event) {\n        event.passProps = this.store.getPropsForId(event.componentId);\n        this.triggerOnAllListenersByComponentId(event, 'componentDidAppear');\n      }\n    }, {\n      key: \"notifyComponentDidDisappear\",\n      value: function notifyComponentDidDisappear(event) {\n        this.triggerOnAllListenersByComponentId(event, 'componentDidDisappear');\n      }\n    }, {\n      key: \"notifyNavigationButtonPressed\",\n      value: function notifyNavigationButtonPressed(event) {\n        this.triggerOnAllListenersByComponentId(event, 'navigationButtonPressed');\n      }\n    }, {\n      key: \"notifyModalDismissed\",\n      value: function notifyModalDismissed(event) {\n        this.triggerOnAllListenersByComponentId(event, 'modalDismissed');\n      }\n    }, {\n      key: \"notifySearchBarUpdated\",\n      value: function notifySearchBarUpdated(event) {\n        this.triggerOnAllListenersByComponentId(event, 'searchBarUpdated');\n      }\n    }, {\n      key: \"notifySearchBarCancelPressed\",\n      value: function notifySearchBarCancelPressed(event) {\n        this.triggerOnAllListenersByComponentId(event, 'searchBarCancelPressed');\n      }\n    }, {\n      key: \"notifyPreviewCompleted\",\n      value: function notifyPreviewCompleted(event) {\n        this.triggerOnAllListenersByComponentId(event, 'previewCompleted');\n      }\n    }, {\n      key: \"triggerOnAllListenersByComponentId\",\n      value: function triggerOnAllListenersByComponentId(event, method) {\n        _.forEach(this.listeners[event.componentId], function (component) {\n          if (component[method]) {\n            component[method](event);\n          }\n        });\n      }\n    }]);\n\n    return ComponentEventsObserver;\n  }();\n\n  exports.ComponentEventsObserver = ComponentEventsObserver;\n});","map":[[2,0,1,0],[8,0,2,0,"Object"],[8,2,2,0,"Object"],[8,8,2,6],[8,9,2,7,"defineProperty"],[8,23,2,0],[8,24,2,22,"exports"],[8,31,2,0],[8,33,2,31],[8,45,2,0],[8,47,2,45],[9,0,2,47,"value"],[9,4,2,47,"value"],[9,9,2,52],[9,11,2,54],[10,0,2,45],[10,3,2,0],[12,0,3,0],[12,6,3,6,"_"],[12,7,3,7],[12,10,3,10,"require"],[12,21,3,17],[12,50,3,0],[14,6,4,6,"ComponentEventsObserver"],[14,29],[15,0,5,4],[15,37,5,16,"nativeEventsReceiver"],[15,57,5,4],[15,59,5,38,"store"],[15,64,5,4],[15,66,5,45],[16,0,5,45],[18,0,6,8],[18,11,6,13,"nativeEventsReceiver"],[18,31,6,8],[18,34,6,36,"nativeEventsReceiver"],[18,54,6,8],[19,0,7,8],[19,11,7,13,"store"],[19,16,7,8],[19,19,7,21,"store"],[19,24,7,8],[20,0,8,8],[20,11,8,13,"listeners"],[20,20,8,8],[20,23,8,25],[20,25,8,8],[21,0,9,8],[21,11,9,13,"alreadyRegistered"],[21,28,9,8],[21,31,9,33],[21,36,9,8],[22,0,10,8],[22,11,10,13,"notifyComponentDidAppear"],[22,35,10,8],[22,38,10,40],[22,43,10,45,"notifyComponentDidAppear"],[22,67,10,40],[22,68,10,70,"bind"],[22,72,10,40],[22,73,10,75],[22,77,10,40],[22,78,10,8],[23,0,11,8],[23,11,11,13,"notifyComponentDidDisappear"],[23,38,11,8],[23,41,11,43],[23,46,11,48,"notifyComponentDidDisappear"],[23,73,11,43],[23,74,11,76,"bind"],[23,78,11,43],[23,79,11,81],[23,83,11,43],[23,84,11,8],[24,0,12,8],[24,11,12,13,"notifyNavigationButtonPressed"],[24,40,12,8],[24,43,12,45],[24,48,12,50,"notifyNavigationButtonPressed"],[24,77,12,45],[24,78,12,80,"bind"],[24,82,12,45],[24,83,12,85],[24,87,12,45],[24,88,12,8],[25,0,13,8],[25,11,13,13,"notifyModalDismissed"],[25,31,13,8],[25,34,13,36],[25,39,13,41,"notifyModalDismissed"],[25,59,13,36],[25,60,13,62,"bind"],[25,64,13,36],[25,65,13,67],[25,69,13,36],[25,70,13,8],[26,0,14,8],[26,11,14,13,"notifySearchBarUpdated"],[26,33,14,8],[26,36,14,38],[26,41,14,43,"notifySearchBarUpdated"],[26,63,14,38],[26,64,14,66,"bind"],[26,68,14,38],[26,69,14,71],[26,73,14,38],[26,74,14,8],[27,0,15,8],[27,11,15,13,"notifySearchBarCancelPressed"],[27,39,15,8],[27,42,15,44],[27,47,15,49,"notifySearchBarCancelPressed"],[27,75,15,44],[27,76,15,78,"bind"],[27,80,15,44],[27,81,15,83],[27,85,15,44],[27,86,15,8],[28,0,16,8],[28,11,16,13,"notifyPreviewCompleted"],[28,33,16,8],[28,36,16,38],[28,41,16,43,"notifyPreviewCompleted"],[28,63,16,38],[28,64,16,66,"bind"],[28,68,16,38],[28,69,16,71],[28,73,16,38],[28,74,16,8],[29,0,17,5],[33,58,18,40],[34,0,19,8],[34,12,19,12],[34,17,19,17,"alreadyRegistered"],[34,34,19,8],[34,36,19,36],[35,0,20,12],[36,0,21,9],[38,0,22,8],[38,13,22,13,"alreadyRegistered"],[38,30,22,8],[38,33,22,33],[38,37,22,8],[39,0,23,8],[39,13,23,13,"nativeEventsReceiver"],[39,33,23,8],[39,34,23,34,"registerComponentDidAppearListener"],[39,68,23,8],[39,69,23,69],[39,74,23,74,"notifyComponentDidAppear"],[39,98,23,8],[40,0,24,8],[40,13,24,13,"nativeEventsReceiver"],[40,33,24,8],[40,34,24,34,"registerComponentDidDisappearListener"],[40,71,24,8],[40,72,24,72],[40,77,24,77,"notifyComponentDidDisappear"],[40,104,24,8],[41,0,25,8],[41,13,25,13,"nativeEventsReceiver"],[41,33,25,8],[41,34,25,34,"registerNavigationButtonPressedListener"],[41,73,25,8],[41,74,25,74],[41,79,25,79,"notifyNavigationButtonPressed"],[41,108,25,8],[42,0,26,8],[42,13,26,13,"nativeEventsReceiver"],[42,33,26,8],[42,34,26,34,"registerModalDismissedListener"],[42,64,26,8],[42,65,26,65],[42,70,26,70,"notifyModalDismissed"],[42,90,26,8],[43,0,27,8],[43,13,27,13,"nativeEventsReceiver"],[43,33,27,8],[43,34,27,34,"registerSearchBarUpdatedListener"],[43,66,27,8],[43,67,27,67],[43,72,27,72,"notifySearchBarUpdated"],[43,94,27,8],[44,0,28,8],[44,13,28,13,"nativeEventsReceiver"],[44,33,28,8],[44,34,28,34,"registerSearchBarCancelPressedListener"],[44,72,28,8],[44,73,28,73],[44,78,28,78,"notifySearchBarCancelPressed"],[44,106,28,8],[45,0,29,8],[45,13,29,13,"nativeEventsReceiver"],[45,33,29,8],[45,34,29,34,"registerPreviewCompletedListener"],[45,66,29,8],[45,67,29,67],[45,72,29,72,"notifyPreviewCompleted"],[45,94,29,8],[46,0,30,5],[49,36,31,18,"component"],[49,45],[49,47,31,29,"componentId"],[49,58],[49,60,31,42],[50,0,31,42],[52,0,32,8],[52,12,32,14,"computedComponentId"],[52,31,32,33],[52,34,32,36,"componentId"],[52,45,32,47],[52,49,32,51,"component"],[52,58,32,60],[52,59,32,61,"props"],[52,64,32,51],[52,65,32,67,"componentId"],[52,76,32,8],[54,0,33,8],[54,12,33,12],[54,13,33,13,"_"],[54,14,33,14],[54,15,33,15,"isString"],[54,23,33,13],[54,24,33,24,"computedComponentId"],[54,43,33,13],[54,44,33,8],[54,46,33,46],[55,0,34,12],[55,16,34,18],[55,20,34,22,"Error"],[55,25,34,18],[55,130,34,12],[56,0,35,9],[58,0,36,8],[58,12,36,12,"_"],[58,13,36,13],[58,14,36,14,"isNil"],[58,19,36,12],[58,20,36,20],[58,25,36,25,"listeners"],[58,34,36,20],[58,35,36,35,"computedComponentId"],[58,54,36,20],[58,55,36,12],[58,56,36,8],[58,58,36,58],[59,0,37,12],[59,15,37,17,"listeners"],[59,24,37,12],[59,25,37,27,"computedComponentId"],[59,44,37,12],[59,48,37,50],[59,50,37,12],[60,0,38,9],[62,0,39,8],[62,12,39,14,"key"],[62,15,39,17],[62,18,39,20,"_"],[62,19,39,21],[62,20,39,22,"uniqueId"],[62,28,39,20],[62,30,39,8],[64,0,40,8],[64,13,40,13,"listeners"],[64,22,40,8],[64,23,40,23,"computedComponentId"],[64,42,40,8],[64,44,40,44,"key"],[64,47,40,8],[64,51,40,51,"component"],[64,60,40,8],[65,0,41,8],[65,15,41,15],[66,0,41,17,"remove"],[66,10,41,17,"remove"],[66,16,41,23],[66,18,41,25],[67,0,41,25],[67,19,41,31,"_"],[67,20,41,32],[67,21,41,33,"unset"],[67,26,41,31],[67,27,41,39],[67,32,41,43],[67,33,41,44,"listeners"],[67,42,41,39],[67,43,41,54,"computedComponentId"],[67,62,41,39],[67,63,41,31],[67,65,41,76,"key"],[67,68,41,31],[67,69,41,25],[68,0,41,25],[69,0,41,15],[69,9,41,8],[70,0,42,5],[73,32,43,14,"componentId"],[73,43],[73,45,43,27],[74,0,44,8,"_"],[74,8,44,8,"_"],[74,9,44,9],[74,10,44,10,"unset"],[74,15,44,8],[74,16,44,16],[74,21,44,21,"listeners"],[74,30,44,8],[74,32,44,32,"componentId"],[74,43,44,8],[75,0,45,5],[78,47,46,29,"event"],[78,52],[78,54,46,36],[79,0,47,8,"event"],[79,8,47,8,"event"],[79,13,47,13],[79,14,47,14,"passProps"],[79,23,47,8],[79,26,47,26],[79,31,47,31,"store"],[79,36,47,26],[79,37,47,37,"getPropsForId"],[79,50,47,26],[79,51,47,51,"event"],[79,56,47,56],[79,57,47,57,"componentId"],[79,68,47,26],[79,69,47,8],[80,0,48,8],[80,13,48,13,"triggerOnAllListenersByComponentId"],[80,47,48,8],[80,48,48,48,"event"],[80,53,48,8],[80,55,48,55],[80,75,48,8],[81,0,49,5],[84,50,50,32,"event"],[84,55],[84,57,50,39],[85,0,51,8],[85,13,51,13,"triggerOnAllListenersByComponentId"],[85,47,51,8],[85,48,51,48,"event"],[85,53,51,8],[85,55,51,55],[85,78,51,8],[86,0,52,5],[89,52,53,34,"event"],[89,57],[89,59,53,41],[90,0,54,8],[90,13,54,13,"triggerOnAllListenersByComponentId"],[90,47,54,8],[90,48,54,48,"event"],[90,53,54,8],[90,55,54,55],[90,80,54,8],[91,0,55,5],[94,43,56,25,"event"],[94,48],[94,50,56,32],[95,0,57,8],[95,13,57,13,"triggerOnAllListenersByComponentId"],[95,47,57,8],[95,48,57,48,"event"],[95,53,57,8],[95,55,57,55],[95,71,57,8],[96,0,58,5],[99,45,59,27,"event"],[99,50],[99,52,59,34],[100,0,60,8],[100,13,60,13,"triggerOnAllListenersByComponentId"],[100,47,60,8],[100,48,60,48,"event"],[100,53,60,8],[100,55,60,55],[100,73,60,8],[101,0,61,5],[104,51,62,33,"event"],[104,56],[104,58,62,40],[105,0,63,8],[105,13,63,13,"triggerOnAllListenersByComponentId"],[105,47,63,8],[105,48,63,48,"event"],[105,53,63,8],[105,55,63,55],[105,79,63,8],[106,0,64,5],[109,45,65,27,"event"],[109,50],[109,52,65,34],[110,0,66,8],[110,13,66,13,"triggerOnAllListenersByComponentId"],[110,47,66,8],[110,48,66,48,"event"],[110,53,66,8],[110,55,66,55],[110,73,66,8],[111,0,67,5],[114,57,68,39,"event"],[114,62],[114,64,68,46,"method"],[114,70],[114,72,68,54],[115,0,69,8,"_"],[115,8,69,8,"_"],[115,9,69,9],[115,10,69,10,"forEach"],[115,17,69,8],[115,18,69,18],[115,23,69,23,"listeners"],[115,32,69,18],[115,33,69,33,"event"],[115,38,69,38],[115,39,69,39,"componentId"],[115,50,69,18],[115,51,69,8],[115,53,69,53],[115,63,69,54,"component"],[115,72,69,53],[115,74,69,68],[116,0,70,12],[116,14,70,16,"component"],[116,23,70,25],[116,24,70,26,"method"],[116,30,70,25],[116,31,70,12],[116,33,70,35],[117,0,71,16,"component"],[117,12,71,16,"component"],[117,21,71,25],[117,22,71,26,"method"],[117,28,71,25],[117,29,71,16],[117,30,71,34,"event"],[117,35,71,16],[118,0,72,13],[119,0,73,9],[119,9,69,8],[120,0,74,5],[126,0,76,0,"exports"],[126,2,76,0,"exports"],[126,9,76,7],[126,10,76,8,"ComponentEventsObserver"],[126,33,76,0],[126,36,76,34,"ComponentEventsObserver"],[126,59,76,0]]},"type":"js/module"}]}